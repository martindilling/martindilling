/*
Link: https://gist.github.com/JeffreyWay/5112282

 <a href="posts/2" data-method="delete"> <---- We want to send an HTTP DELETE request

 - Or, request confirmation in the process -

 <a href="posts/2" data-method="delete" data-confirm="Are you sure?">
 */
(function(){var a={initialize:function(){this.methodLinks=$("a[data-method]");this.registerEvents()},registerEvents:function(){this.methodLinks.on("click",this.handleMethod)},handleMethod:function(f){var d=$(this);var b=d.data("method").toUpperCase();var c;if($.inArray(b,["PUT","DELETE"])===-1){return}if(d.data("confirm")){if(!a.verifyConfirm(d)){return false}}c=a.createForm(d);c.submit();f.preventDefault()},verifyConfirm:function(b){return confirm(b.data("confirm"))},createForm:function(e){var d=$("<form>",{method:"POST",action:e.attr("href")});var b=$("<input>",{type:"hidden",name:"csrf_token",value:"<?php echo csrf_token(); ?>"});var c=$("<input>",{name:"_method",type:"hidden",value:e.data("method")});return d.append(b,c).appendTo("body")}};a.initialize()})();
